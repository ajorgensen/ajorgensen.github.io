<!DOCTYPE html>
<html lang="en-us"><head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="" /><link rel="canonical" href="https://aj.codes/posts/update-default-git-branch/" />


	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:site" content="@ajorgensen" /><meta name="og:title" content="Change Default git Branch" /><meta property="og:type" content="website" /><meta property="og:description" content="" />
		<meta property="og:url" content="https://aj.codes/posts/update-default-git-branch/" /><meta name="og:image" content="/images/cat.jpg" />
			<meta name="twitter:image" content="/images/cat.jpg" /><meta name="twitter:creator" content="@ajorgensen" /><meta name="twitter:title" content="Change Default git Branch" /><title>Change Default git Branch - Andrew Jorgensen</title><meta name="generator" content="Hugo 0.108.0">

	<link rel="stylesheet" type="text/css" href="https://aj.codes/css/output.css" />
  

  <script src="https://aj.codes/js/theme-toggle.js"></script>
  <script src="https://aj.codes//js/feather.min.js"></script>
</head>
<body class="flex flex-col md:mx-auto mx-8 min-h-screen max-w-prose font-sans text-gray-700 dark:text-white bg-light-background dark:bg-dark-background"><header class="py-8">
  <div class="flex flex-row justify-between">
    <div>
      <a class="text-xl font-semibold hover:text-accent" href="https://aj.codes/"> 
        Andrew Jorgensen
      </a>
    </div>
    <div>
      <a class="justify-between text-lg hover:text-accent" href="/tags">Tags</a>
    </div>
  </div>
</header>
<main class="flex-1">
<article class="w-full prose max-w-prose dark:prose-invert lg:prose-xl">
	<h1>
		<span>
			Change Default git Branch
		</span>

		<div class="text-xl mt-4">
			<time class="font-mono not-prose font-thin">2022-03-21</time>
			⋅
			

			
				<a class=" text-accent text-xl m" href="/tags/git">git</a>
			
		</div>
	</h1>

	<section class="leading-normal space-y-4">
		<p>First we&rsquo;ll need to rename the old branch to the new branch. For this we&rsquo;ll be renaming the master branch to main.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">git branch -m master main
</span></span></code></pre></div><p>Since the rename was only a local change, we now need to push up the new renamed branch to remote.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">git push -u origin main
</span></span></code></pre></div><p>Next we need to tell git that main is the new default branch by updating the reference to HEAD</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">git symbolic-ref refs/remotes/origin/HEAD refs/remotes/origin/main
</span></span></code></pre></div><p>Next if you&rsquo;re pushing to Github you&rsquo;ll want to go into the branches settings for the repository and update the default branch from the old branch to the new branch (main in this case)</p>
<p>At this point you can verify that the correct branch is set as the default in Github as well as check locally to make sure everything is setup correctly by doing</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">git branch -a
</span></span></code></pre></div><p>Once  you&rsquo;ve verified everything is correct you can now safely delete the old branch from Github</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">git push origin --delete master
</span></span></code></pre></div>
	</section>
</article>

    </main><footer class="flex flex-col mb-5">
      <div >
            <hr class="my-8 h-px w-full bg-gray-700 border-0 dark:bg-gray-700">
      </div>
      <div class="flex flex-row justify-evenly space-x-3 text-s divide-gray-400"><span>
                  <a class=" text-accent text-sm" href="https://github.com/ajorgensen/" title="GitHub"><i class="w-5 h-5" data-feather="github"></i></a>
            </span>
            <span>|</span><span>
                  <a class=" text-accent text-sm" href="https://twitter.com/ajorgensen/" title="Twitter"><i class="w-5 h-5" data-feather="twitter"></i></a>
            </span>
            <span>|</span><span>
                  <a class=" text-accent text-sm" href="/index.xml" title="RSS"><i class="w-5 h-5" data-feather="rss"></i></a>
            </span>
            <span>|</span><span>
            2022  © Andrew Jorgensen  
            </span>

            <span>|</span>

            <span>
                  Built with <a class="hover:text-accent" href="https://gohugo.io">Hugo</a>
            </span>

            <span>|</span> 

            <span id="theme-toggle" class="hover:text-accent">
            </span>
      </div>
</footer>





<script data-goatcounter="https://ajorgensen.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
<script>
      feather.replace()
</script></body>

</html>
