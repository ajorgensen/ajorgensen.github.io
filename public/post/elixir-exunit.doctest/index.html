<!DOCTYPE html>
<html lang="en-us">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Elixir ExUnit.DocTest | Andrew Jorgensen</title>
<link rel="stylesheet" href="http://andrewjorgensen.com/css/style.css">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/github.min.css">


<section class="section">
  <div class="container">
    <nav class="nav">
      <div class="nav-left">
        <a class="nav-item" href="http://andrewjorgensen.com"><h1 class="title is-4">Andrew Jorgensen</h1></a>
      </div>
      <div class="nav-right">
        <nav class="nav-item level is-mobile">
          
          <a class="level-item" href="https://github.com/ajorgensen">
            <span class="icon">
              <i class="fa fa-github"></i>
            </span>
          </a>
          
          <a class="level-item" href="https://twitter.com/ajorgensen">
            <span class="icon">
              <i class="fa fa-twitter"></i>
            </span>
          </a>
          
          <a class="level-item" href="http://andrewjorgensen.com/index.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>
          </a>
          
        </nav>
      </div>
    </nav>
  </div>
</section>

<section class="section">
  <div class="container">
    <h2 class="subtitle is-6">November 9, 2016</h2>
    <h1 class="title">Elixir ExUnit.DocTest</h1>
    
      <div class="tags">
        
        <span class="tag">elixir</span>
        
        <span class="tag">testing</span>
        
      </div>
    
    <div class="content">
      <p>Have you ever been frustrated by the lack working examples in documentation? <a href="http://elixir-lang.org/">Elixir</a> helps solve this problem with a built in feature called DocTest.</p>

<p></p>

<p>Elixir&rsquo;s testing framework ExUnit provides built in support for a feature called <a href="http://elixir-lang.org/docs/stable/ex_unit/ExUnit.DocTest.html">DocTest</a> which allows you to write test cases in the documentation block for a function. This works really well for pure functions that simply take data and return data but is not advised for any functions that have side effects.</p>

<pre><code>defmodule Calculator do
  @doc &quot;&quot;&quot;
  Adds two numbers and returns the result.

  ## Examples
      iex&gt; Calculator.add(1, 2)
      3

      iex&gt; Calculator.add(5, 5)
      10
  &quot;&quot;&quot;
  def add(a, b) do
    a + b
  end

  @doc &quot;&quot;&quot;
  Subtracts two numbers and returns the result.

  ## Examples
      iex&gt; Calculator.subtract(1, 2)
      -1

      iex&gt; Calculator.subtract(5, 5)
      0
  &quot;&quot;&quot;
  def subtract(a, b) do
    a - b
  end
end
</code></pre>

<p>When you run the test suite, ExUnit will look for these tests then run and verify the results just like if you had written a standard unit test in a specific test module. Now the documentation for the module includes these examples making it really easy for someone to see how the function works without having to dig into the test code or use trial and error to figure out how it works.</p>

<pre><code class="language-markdown">iex&gt; h Calculator.add

                                 def add(a, b)

Adds two numbers and returns the result.

Examples

┃ iex&gt; Calculator.add(1, 2)
┃ 3
┃
┃ iex&gt; Calculator.add(5, 5)
┃ 10
</code></pre>

<p>The <a href="https://elixirschool.com/lessons/basics/documentation/#documenting-functions">Elixir School</a> also provides some great information on function documentation and the features that Elixir provides.</p>
    </div>
  </div>
</section>

<section class="section">
  <div class="container">
    <aside><div id="disqus_thread"></div></aside>
    <script type="text/javascript">
      var disqus_shortname = 'ajorgensen';
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
  </div>
</section>


<section class="section">
  <div class="container has-text-centered">
    <p>&copy; <a href="http://andrewjorgensen.com">Andrew Jorgensen</a> 2016</p>
  </div>
</section>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/highlight.min.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/languages/go.min.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/languages/dockerfile.min.js"></script>

<script>hljs.initHighlightingOnLoad();</script>

<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', "UA-51883548-1", 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


