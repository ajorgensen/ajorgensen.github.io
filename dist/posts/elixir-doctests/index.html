<!DOCTYPE html><html lang="en"><head><style>:where(img){height:auto}</style>
    <meta charset="UTF-8">
    <meta content="width=device-width" name="viewport">
    <link href="https://aj.codes/posts/elixir-doctests/" rel="canonical">
    <meta content="Astro v2.6.6" name="generator">

    <!-- General Meta Tags -->
    <title>Elixir ExUnit.DocTest</title>
    <meta content="Elixir ExUnit.DocTest" name="title">
    <meta content="My blog" name="description">
    <meta content="Andrew Jorgensen" name="author">
    <link href="/sitemap-index.xml" rel="sitemap">

    <!-- Open Graph / Facebook -->
    <meta content="Elixir ExUnit.DocTest" property="og:title">
    <meta content="My blog" property="og:description">
    <meta content="https://aj.codes/posts/elixir-doctests/" property="og:url">
    <meta content="https://aj.codes/astropaper-og.jpg" property="og:image">

    <!-- Twitter -->
    <meta content="summary_large_image" property="twitter:card">
    <meta content="https://aj.codes/posts/elixir-doctests/" property="twitter:url">
    <meta content="Elixir ExUnit.DocTest" property="twitter:title">
    <meta content="My blog" property="twitter:description">
    <meta content="https://aj.codes/astropaper-og.jpg" property="twitter:image">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,400;0,500;0,600;0,700;1,400;1,600&amp;display=swap" rel="stylesheet">

    

    <script src="/toggle-theme.js"></script>
  <link href="/_astro/index.40cf44c5.css" rel="stylesheet">
<link href="/_astro/_slug_.8f69f02d.css" rel="stylesheet">
<link href="/_astro/_slug_.41a32359.css" rel="stylesheet">
<link href="/_astro/_slug_.3b14054e.css" rel="stylesheet">
<link href="/_astro/index.906d67ca.css" rel="stylesheet"><script type="module">const e=document.querySelector(".hamburger-menu"),n=document.querySelector(".menu-icon"),u=document.querySelector("#menu-items");e?.addEventListener("click",()=>{let t="true"===e.getAttribute("aria-expanded");n?.classList.toggle("is-active"),e.setAttribute("aria-expanded",t?"false":"true"),e.setAttribute("aria-label",t?"Open Menu":"Close Menu"),u?.classList.toggle("display-none")});</script></head>
  <body>
    
  <header class="astro-3EF6KSR2">
  <a href="#main-content" class="astro-3EF6KSR2" id="skip-to-content">Skip to content</a>
  <div class="astro-3EF6KSR2 nav-container">
    <div class="astro-3EF6KSR2 top-nav-wrap">
      <a href="/" class="astro-3EF6KSR2 logo">
            Andrew Jorgensen
      </a>
      <nav class="astro-3EF6KSR2" id="nav-menu">
        <button class="astro-3EF6KSR2 focus-outline hamburger-menu" aria-label="Open Menu" aria-controls="menu-items" aria-expanded="false">
          <svg class="astro-3EF6KSR2 menu-icon" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round" fill="none" height="24" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" width="24">
            <line class="line astro-3EF6KSR2" x1="7" x2="21" y1="12" y2="12"></line>
            <line class="line astro-3EF6KSR2" x1="3" x2="21" y1="6" y2="6"></line>
            <line class="line astro-3EF6KSR2" x1="12" x2="21" y1="18" y2="18"></line>
            <line class="astro-3EF6KSR2 close" x1="18" x2="6" y1="6" y2="18"></line>
            <line class="astro-3EF6KSR2 close" x1="6" x2="18" y1="6" y2="18"></line>
          </svg>
        </button>
        <ul class="astro-3EF6KSR2 display-none sm:flex" id="menu-items">
          <li class="astro-3EF6KSR2">
            <a href="/" class="astro-3EF6KSR2">
              Home
            </a>
          </li>
          <li class="astro-3EF6KSR2">
            <a href="/tags" class="astro-3EF6KSR2">
              Tags
            </a>
          </li>
          <li class="astro-3EF6KSR2">
            <button class="astro-3EF6KSR2 focus-outline" aria-label="auto" aria-live="polite" id="theme-btn" title="Toggles light &amp; dark">
                  <svg class="astro-3EF6KSR2" xmlns="http://www.w3.org/2000/svg" id="moon-svg">
                    <path d="M20.742 13.045a8.088 8.088 0 0 1-2.077.271c-2.135 0-4.14-.83-5.646-2.336a8.025 8.025 0 0 1-2.064-7.723A1 1 0 0 0 9.73 2.034a10.014 10.014 0 0 0-4.489 2.582c-3.898 3.898-3.898 10.243 0 14.143a9.937 9.937 0 0 0 7.072 2.93 9.93 9.93 0 0 0 7.07-2.929 10.007 10.007 0 0 0 2.583-4.491 1.001 1.001 0 0 0-1.224-1.224zm-2.772 4.301a7.947 7.947 0 0 1-5.656 2.343 7.953 7.953 0 0 1-5.658-2.344c-3.118-3.119-3.118-8.195 0-11.314a7.923 7.923 0 0 1 2.06-1.483 10.027 10.027 0 0 0 2.89 7.848 9.972 9.972 0 0 0 7.848 2.891 8.036 8.036 0 0 1-1.484 2.059z" class="astro-3EF6KSR2"></path>
                  </svg>
                  <svg class="astro-3EF6KSR2" xmlns="http://www.w3.org/2000/svg" id="sun-svg">
                    <path d="M6.993 12c0 2.761 2.246 5.007 5.007 5.007s5.007-2.246 5.007-5.007S14.761 6.993 12 6.993 6.993 9.239 6.993 12zM12 8.993c1.658 0 3.007 1.349 3.007 3.007S13.658 15.007 12 15.007 8.993 13.658 8.993 12 10.342 8.993 12 8.993zM10.998 19h2v3h-2zm0-17h2v3h-2zm-9 9h3v2h-3zm17 0h3v2h-3zM4.219 18.363l2.12-2.122 1.415 1.414-2.12 2.122zM16.24 6.344l2.122-2.122 1.414 1.414-2.122 2.122zM6.342 7.759 4.22 5.637l1.415-1.414 2.12 2.122zm13.434 10.605-1.414 1.414-2.122-2.122 1.414-1.414z" class="astro-3EF6KSR2"></path>
                  </svg>
                </button>
          </li>
        </ul>
      </nav>
    </div>
  </div>
  <div class="max-w-3xl mx-auto px-4">
  <hr aria-hidden="true" class="border-skin-line">
</div>
</header>
  <div class="astro-VJ4TPSPI flex justify-start max-w-3xl mx-auto px-2 w-full">
    <button class="astro-VJ4TPSPI flex focus-outline hover:opacity-75 mb-2 mt-8" onclick="history.back()">
      <svg class="astro-VJ4TPSPI" xmlns="http://www.w3.org/2000/svg"><path d="M13.293 6.293 7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z" class="astro-VJ4TPSPI"></path>
      </svg><span class="astro-VJ4TPSPI">Go back</span>
    </button>
  </div>
  <main class="astro-VJ4TPSPI" id="main-content">
    <h1 class="astro-VJ4TPSPI post-title">Elixir ExUnit.DocTest</h1>
    <div class="astro-VJ4TPSPI flex items-center my-2 opacity-80 space-x-2"><svg class="inline-block fill-skin-base h-6 scale-100 w-6" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M7 11h2v2H7zm0 4h2v2H7zm4-4h2v2h-2zm0 4h2v2h-2zm4-4h2v2h-2zm0 4h2v2h-2z"></path><path d="M5 22h14c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2h-2V2h-2v2H9V2H7v2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2zM19 8l.001 12H5V8h14z"></path></svg><span class="sr-only">Posted on:</span><span class="italic text-base">November 9, 2016</span></div>
    <article class="astro-VJ4TPSPI max-w-3xl mx-auto mt-8 prose" id="article" role="article">
      <p>Have you ever been frustrated by the lack working examples in documentation? <a href="http://elixir-lang.org/">Elixir</a> helps solve this problem with a built in feature called DocTest.</p>
<!--more-->
<p>Elixir’s testing framework ExUnit provides built in support for a feature called <a href="http://elixir-lang.org/docs/stable/ex_unit/ExUnit.DocTest.html">DocTest</a> which allows you to write test cases in the documentation block for a function. This works really well for pure functions that simply take data and return data but is not advised for any functions that have side effects.</p>
<pre class="astro-code one-dark-pro" is:raw="" style="white-space:pre-wrap;word-wrap:break-word;background-color:#282c34;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#c678dd">defmodule</span><span style="color:#abb2bf"> </span><span style="color:#e5c07b">Calculator</span><span style="color:#abb2bf"> </span><span style="color:#c678dd">do</span></span>
<span class="line"><span style="color:#abb2bf">  </span><span style="color:#7f848e;font-style:italic">@doc """</span></span>
<span class="line"><span style="color:#7f848e;font-style:italic">  Adds two numbers and returns the result.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7f848e;font-style:italic">  ## Examples</span></span>
<span class="line"><span style="color:#7f848e;font-style:italic">      iex&gt; Calculator.add(1, 2)</span></span>
<span class="line"><span style="color:#7f848e;font-style:italic">      3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7f848e;font-style:italic">      iex&gt; Calculator.add(5, 5)</span></span>
<span class="line"><span style="color:#7f848e;font-style:italic">      10</span></span>
<span class="line"><span style="color:#7f848e;font-style:italic">  """</span></span>
<span class="line"><span style="color:#abb2bf">  </span><span style="color:#c678dd">def</span><span style="color:#abb2bf"> </span><span style="color:#61afef">add</span><span style="color:#abb2bf">(a, b) </span><span style="color:#c678dd">do</span></span>
<span class="line"><span style="color:#abb2bf">    a </span><span style="color:#56b6c2">+</span><span style="color:#abb2bf"> b</span></span>
<span class="line"><span style="color:#abb2bf">  </span><span style="color:#c678dd">end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#abb2bf">  </span><span style="color:#7f848e;font-style:italic">@doc """</span></span>
<span class="line"><span style="color:#7f848e;font-style:italic">  Subtracts two numbers and returns the result.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7f848e;font-style:italic">  ## Examples</span></span>
<span class="line"><span style="color:#7f848e;font-style:italic">      iex&gt; Calculator.subtract(1, 2)</span></span>
<span class="line"><span style="color:#7f848e;font-style:italic">      -1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7f848e;font-style:italic">      iex&gt; Calculator.subtract(5, 5)</span></span>
<span class="line"><span style="color:#7f848e;font-style:italic">      0</span></span>
<span class="line"><span style="color:#7f848e;font-style:italic">  """</span></span>
<span class="line"><span style="color:#abb2bf">  </span><span style="color:#c678dd">def</span><span style="color:#abb2bf"> </span><span style="color:#61afef">subtract</span><span style="color:#abb2bf">(a, b) </span><span style="color:#c678dd">do</span></span>
<span class="line"><span style="color:#abb2bf">    a </span><span style="color:#56b6c2">-</span><span style="color:#abb2bf"> b</span></span>
<span class="line"><span style="color:#abb2bf">  </span><span style="color:#c678dd">end</span></span>
<span class="line"><span style="color:#c678dd">end</span></span></code></pre>
<p>When you run the test suite, ExUnit will look for these tests then run and verify the results just like if you had written a standard unit test in a specific test module. Now the documentation for the module includes these examples making it really easy for someone to see how the function works without having to dig into the test code or use trial and error to figure out how it works.</p>
<pre class="astro-code one-dark-pro" is:raw="" style="white-space:pre-wrap;word-wrap:break-word;background-color:#282c34;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#61afef">iex&gt;</span><span style="color:#abb2bf"> </span><span style="color:#98c379">h</span><span style="color:#abb2bf"> </span><span style="color:#98c379">Calculator.add</span></span>
<span class="line"></span>
<span class="line"><span style="color:#abb2bf">                                 </span><span style="color:#61afef">def</span><span style="color:#abb2bf"> </span><span style="color:#98c379">add</span><span style="color:#abb2bf">(</span><span style="color:#61afef">a,</span><span style="color:#abb2bf"> </span><span style="color:#98c379">b</span><span style="color:#abb2bf">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61afef">Adds</span><span style="color:#abb2bf"> </span><span style="color:#98c379">two</span><span style="color:#abb2bf"> </span><span style="color:#98c379">numbers</span><span style="color:#abb2bf"> </span><span style="color:#98c379">and</span><span style="color:#abb2bf"> </span><span style="color:#98c379">returns</span><span style="color:#abb2bf"> </span><span style="color:#98c379">the</span><span style="color:#abb2bf"> </span><span style="color:#98c379">result.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61afef">Examples</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61afef">┃</span><span style="color:#abb2bf"> </span><span style="color:#98c379">ie</span><span style="color:#abb2bf">x&gt; </span><span style="color:#98c379">Calculator.add</span><span style="color:#abb2bf">(</span><span style="color:#61afef">1,</span><span style="color:#abb2bf"> </span><span style="color:#d19a66">2</span><span style="color:#abb2bf">)</span></span>
<span class="line"><span style="color:#61afef">┃</span><span style="color:#abb2bf"> </span><span style="color:#d19a66">3</span></span>
<span class="line"><span style="color:#61afef">┃</span></span>
<span class="line"><span style="color:#61afef">┃</span><span style="color:#abb2bf"> </span><span style="color:#98c379">ie</span><span style="color:#abb2bf">x&gt; </span><span style="color:#98c379">Calculator.add</span><span style="color:#abb2bf">(</span><span style="color:#61afef">5,</span><span style="color:#abb2bf"> </span><span style="color:#d19a66">5</span><span style="color:#abb2bf">)</span></span>
<span class="line"><span style="color:#61afef">┃</span><span style="color:#abb2bf"> </span><span style="color:#d19a66">10</span></span></code></pre>
<p>The <a href="https://elixirschool.com/lessons/basics/documentation/#documenting-functions">Elixir School</a> also provides some great information on function documentation and the features that Elixir provides.</p>
    </article>

    <ul class="astro-VJ4TPSPI tags-container">
      <li class="astro-BLWJYJPT inline-block my-1 underline-offset-4">
  <a href="/tags/elixir" class="astro-BLWJYJPT group pr-2 text-sm">
    <svg class="astro-BLWJYJPT scale-75" xmlns="http://www.w3.org/2000/svg"><path d="M16.018 3.815 15.232 8h-4.966l.716-3.815-1.964-.37L8.232 8H4v2h3.857l-.751 4H3v2h3.731l-.714 3.805 1.965.369L8.766 16h4.966l-.714 3.805 1.965.369.783-4.174H20v-2h-3.859l.751-4H21V8h-3.733l.716-3.815-1.965-.37zM14.106 14H9.141l.751-4h4.966l-.752 4z" class="astro-BLWJYJPT"></path>
    </svg>
    &nbsp;<span class="astro-BLWJYJPT">elixir</span>
  </a>
</li><li class="astro-BLWJYJPT inline-block my-1 underline-offset-4">
  <a href="/tags/testing" class="astro-BLWJYJPT group pr-2 text-sm">
    <svg class="astro-BLWJYJPT scale-75" xmlns="http://www.w3.org/2000/svg"><path d="M16.018 3.815 15.232 8h-4.966l.716-3.815-1.964-.37L8.232 8H4v2h3.857l-.751 4H3v2h3.731l-.714 3.805 1.965.369L8.766 16h4.966l-.714 3.805 1.965.369.783-4.174H20v-2h-3.859l.751-4H21V8h-3.733l.716-3.815-1.965-.37zM14.106 14H9.141l.751-4h4.966l-.752 4z" class="astro-BLWJYJPT"></path>
    </svg>
    &nbsp;<span class="astro-BLWJYJPT">testing</span>
  </a>
</li>
    </ul>
  </main>
  <footer class="astro-SZ7XMLTE mt-auto">
  <div class="max-w-3xl mx-auto px-0">
  <hr aria-hidden="true" class="border-skin-line">
</div>
  <div class="astro-SZ7XMLTE footer-wrapper">
    <div class="flex astro-UPU6FZXR social-icons">
  <a href="https://github.com/ajorgensen" class="inline-block astro-5EUNQZKT astro-UPU6FZXR group link-button" tabindex="0" title=" Andrew Jorgensen on Github">
  
        <svg class="icon-tabler" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round">
    <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
    <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"></path>
  </svg>
      
</a><a href="https://twitter.com/ajorgensen" class="inline-block astro-5EUNQZKT astro-UPU6FZXR group link-button" tabindex="0" title="Andrew Jorgensen on Twitter">
  
        <svg class="icon-tabler" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round">
      <path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
      <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"></path>
    </svg>
      
</a>
</div>
    <div class="astro-SZ7XMLTE copyright-wrapper">
      <span class="astro-SZ7XMLTE">Copyright © 2023</span>
      <span class="astro-SZ7XMLTE separator">&nbsp;|&nbsp;</span>
      <span class="astro-SZ7XMLTE">All rights reserved.</span>
    </div>
  </div>
</footer>

  </body></html>